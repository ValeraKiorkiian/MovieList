{"version":3,"file":"index.js","sources":["../src/js/swiper.js","../src/img/vite-logo.png","../src/js/render.js","../src/js/themoviedb-api.js","../src/js/handlers.js","../src/main.js"],"sourcesContent":["import Swiper from 'swiper/bundle';\nimport 'swiper/css/bundle';\n\nexport function upcomingMoviesSwiper() {\n  new Swiper('.upcomingMoviesSwiper', {\n    direction: 'vertical',\n    autoplay: {\n      delay: 5000,\n    },\n    loop: true,\n    pagination: {\n      el: '.swiper-pagination',\n      clickable: true,\n      renderBullet: function (index, className) {\n        return `<span class=\"${className}\">${index + 1}</span>`;\n      },\n    },\n  });\n}\nexport function featuredMoviesSwiper() {\n  new Swiper('.featuredMoviesSwiper', {\n    slidesPerView: 4,\n    spaceBetween: 80,\n    loop: true,\n    navigation: {\n      nextEl: '.featured-swiper-next',\n      prevEl: '.featured-swiper-prev',\n    },\n  });\n}\n\nexport function newArrivalMoviesSwiper() {\n  new Swiper('.newArrivalMoviesSwiper', {\n    slidesPerView: 4,\n    spaceBetween: 80,\n    loop: true,\n    navigation: {\n      nextEl: '.new-arrival-swiper-next',\n      prevEl: '.new-arrival-swiper-prev',\n    },\n  });\n}\n","export default \"__VITE_ASSET__DU1GLGnt__\"","import {\n  upcomingMoviesSwiper,\n  featuredMoviesSwiper,\n  newArrivalMoviesSwiper,\n} from './swiper';\nimport defaultImage from '../img/vite-logo.png';\n\nconst upcomingList = document.querySelector(`.upcomingmovies-list`);\nconst userList = document.querySelector(`.user-movies-list`);\nconst newArrivalList = document.querySelector(`.new-arrival-movies-list`);\nexport const featuredList = document.querySelector(`.featuredmovies-list`);\n\nexport function renderUpcomingMovies(movies) {\n  const markup = movies\n    .map(\n      ({ backdrop_path, original_title, overview, vote_average }) => `\n <li class=\"swiper-slide hero-swiper-slide\">\n<div class=\"container\">\n  <div class=\"text-container\">\n        <h1 class=\"hero-movie-title\">${original_title}</h1>\n        <span class=\"hero-movie-average\">${vote_average.toFixed(1)}/10</span>\n        <p class=\"hero-movie-text\">${overview.slice(0, 450)}</p>\n        <a href=\"\" class=\"hero-movie-link\">Watch trailer</a>\n        </div>\n      </div>\n        <img\n          class=\"hero-img\"\n          src=\"https://image.tmdb.org/t/p/original/${backdrop_path}\"\n        />\n      </li>   `\n    )\n    .join(``);\n  upcomingList.innerHTML = markup;\n  upcomingMoviesSwiper();\n}\n\nexport function renderFeaturedMovies(movies) {\n  const markup = movies\n    .map(\n      ({ title, vote_average, poster_path, release_date }) => `\n    <li class=\"swiper-slide featured-swiper-slide\">\n    ${\n      poster_path\n        ? `<img class=\"featuredList-img\"\n        src=\"https://image.tmdb.org/t/p/w500/${poster_path}\" \n        width=\"250\" \n        height=\"370\"\n        alt=\"${title}\"\n        />`\n        : `<img\n          class=\"featuredList-img\"\n          src=\"${defaultImage}\"\n          width=\"250\"\n          height=\"370\"\n          alt=\"Default Image\"\n        />`\n    }\n\n        <div class=\"featured-text-container\">\n        <h3 class=\"featured-movie-title\">${title}</h3>\n        <p class=\"featured-movie-average\">Average: ${vote_average.toFixed(\n          1\n        )}/10</p>\n        <p class=\"featured-movie-text\">Release: ${release_date}</p>\n </li>`\n    )\n    .join(``);\n  featuredList.innerHTML = markup;\n  featuredMoviesSwiper();\n}\n\nexport function renderUserMovies(movies) {\n  const markup = movies\n    .map(\n      ({ title, vote_average, poster_path, release_date }) => `\n    <li class=\"user-movies-item\">\n<img class=\"user-movies-img\"src=\"https://image.tmdb.org/t/p/w500/${poster_path}\" width=\"250\" height=\"370\"\n        />\n        <div class=\"user-movies-text-container\">\n        <h3 class=\"user-movies-title\">${title}</h3>\n        <p class=\"user-movies-average\">Average: ${vote_average.toFixed(\n          1\n        )}/10</p>\n        <p class=\"user-movies-text\">Release: ${release_date}</p>\n </li>`\n    )\n    .join(``);\n  userList.insertAdjacentHTML(`beforeend`, markup);\n}\n\nexport function renderNewArrivalMovies(movies) {\n  const markup = movies\n    .map(\n      ({ title, vote_average, poster_path, release_date }) => `\n    <li class=\"swiper-slide featured-swiper-slide\">\n    ${\n      poster_path\n        ? `<img class=\"featuredList-img\"\n        src=\"https://image.tmdb.org/t/p/w500/${poster_path}\" \n        width=\"250\" \n        height=\"370\"\n        alt=\"${title}\"\n        />`\n        : `<img\n          class=\"featuredList-img\"\n          src=\"${defaultImage}\"\n          width=\"250\"\n          height=\"370\"\n          alt=\"Default Image\"\n        />`\n    }\n\n        <div class=\"featured-text-container\">\n        <h3 class=\"featured-movie-title\">${title}</h3>\n        <p class=\"featured-movie-average\">Average: ${vote_average.toFixed(\n          1\n        )}/10</p>\n        <p class=\"featured-movie-text\">Release: ${release_date}</p>\n </li>`\n    )\n    .join(``);\n  newArrivalList.innerHTML = markup;\n  newArrivalMoviesSwiper();\n}\n\nexport function cleanUserMovies() {\n  userList.innerHTML = '';\n}\n","import axios from 'axios';\nconst API_KEY = '5492cdd75627c83efb1990fb79e6e1c0';\n// https://api.themoviedb.org/3/movie/upcoming?api_key=ТВІЙ_API_КЛЮЧ\n\nexport async function getUpcomingMovies() {\n  const { data } = await axios(\n    `https://api.themoviedb.org/3/movie/upcoming?api_key=${API_KEY}`\n  );\n\n  return data;\n}\n\nexport async function getFeaturedMovies() {\n  const { data } = await axios(\n    `https://api.themoviedb.org/3/movie/popular?api_key=${API_KEY}`\n  );\n\n  return data;\n}\n\nexport async function getUserMovies(movieName, page = 1) {\n  const { data } = await axios(\n    `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}`,\n    {\n      params: {\n        query: movieName,\n        page,\n      },\n    }\n  );\n  console.log(data);\n\n  return data;\n}\n// https://api.themoviedb.org/3/movie/now_playing\n\nexport async function getNewArrivalMovies() {\n  const { data } = await axios(\n    `https://api.themoviedb.org/3/movie/now_playing?api_key=${API_KEY}`\n  );\n  return data;\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport {\n  renderFeaturedMovies,\n  renderUpcomingMovies,\n  renderUserMovies,\n  renderNewArrivalMovies,\n  cleanUserMovies,\n} from './render';\nimport {\n  getUpcomingMovies,\n  getFeaturedMovies,\n  getUserMovies,\n  getNewArrivalMovies,\n} from './themoviedb-api';\n\nconst iziToastContent = {\n  message:\n    'Sorry, there are no movies matching your search query. Please try again',\n  position: 'topRight',\n  messageColor: '#fff',\n  backgroundColor: '#ef4040',\n  theme: 'dark',\n  maxWidth: '432px',\n};\n\nexport const form = document.querySelector(`.header-form`);\nexport const moveToMainBtn = document.querySelector(`.user-movies-btn`);\nconst featuredSection = document.querySelector(`.featured`);\nconst userMovieSection = document.querySelector(`.user-movies`);\nconst newArrivalSection = document.querySelector(`.new-arrival-movies`);\nexport const showMoreBtn = document.querySelector(`.show-more-btn`);\n\nlet movieName = '';\nlet page = 1;\n\nexport async function onDOMContentLoaded() {\n  try {\n    const { results } = await getUpcomingMovies();\n    const slideResult = results.slice(0, 5);\n    renderUpcomingMovies(slideResult);\n  } catch (error) {\n    console.log(error);\n  }\n  try {\n    const { results } = await getFeaturedMovies();\n    renderFeaturedMovies(results);\n  } catch (error) {\n    console.log(error);\n  }\n  try {\n    const { results } = await getNewArrivalMovies();\n    renderNewArrivalMovies(results);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport async function onSubmitForm(event) {\n  event.preventDefault();\n  page = 1;\n  cleanUserMovies();\n  try {\n    movieName = event.currentTarget.elements.headerSearch.value.trim();\n    const { results, total_results } = await getUserMovies(movieName, page);\n    if (!results || results.length === 0) {\n      iziToast.show(iziToastContent);\n      return;\n    }\n    featuredSection.style.display = 'none';\n    newArrivalSection.style.display = 'none';\n    userMovieSection.classList.remove('hiden');\n    renderUserMovies(results);\n    // console.log(results);\n  } catch (error) {\n    console.log(error);\n  } finally {\n    form.reset();\n  }\n}\n\nexport function onMoveToMainBtn() {\n  userMovieSection.classList.add('hiden');\n  featuredSection.style.display = 'flex';\n  newArrivalSection.style.display = 'flex';\n}\n\nexport async function onShowMoreBtn() {\n  page++;\n  try {\n    const { results, total_results, total_page } = await getUserMovies(\n      movieName,\n      page\n    );\n    renderUserMovies(results);\n  } catch (error) {\n    console.log(error);\n  }\n}\n","import './js/swiper';\nimport {\n  onDOMContentLoaded,\n  onSubmitForm,\n  onMoveToMainBtn,\n  onShowMoreBtn,\n} from './js/handlers';\nimport { form, moveToMainBtn, showMoreBtn } from './js/handlers';\n\ndocument.addEventListener(`DOMContentLoaded`, onDOMContentLoaded);\nform.addEventListener(`submit`, onSubmitForm);\nmoveToMainBtn.addEventListener(`click`, onMoveToMainBtn);\nshowMoreBtn.addEventListener(`click`, onShowMoreBtn);\n"],"names":["upcomingMoviesSwiper","Swiper","index","className","featuredMoviesSwiper","newArrivalMoviesSwiper","defaultImage","upcomingList","userList","newArrivalList","featuredList","renderUpcomingMovies","movies","markup","backdrop_path","original_title","overview","vote_average","renderFeaturedMovies","title","poster_path","release_date","renderUserMovies","renderNewArrivalMovies","cleanUserMovies","API_KEY","getUpcomingMovies","data","axios","getFeaturedMovies","getUserMovies","movieName","page","getNewArrivalMovies","iziToastContent","form","moveToMainBtn","featuredSection","userMovieSection","newArrivalSection","showMoreBtn","onDOMContentLoaded","results","slideResult","error","onSubmitForm","event","total_results","iziToast","onMoveToMainBtn","onShowMoreBtn","total_page"],"mappings":"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"}